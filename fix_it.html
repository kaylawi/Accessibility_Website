<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="utf-8" />
<title> Geocoding control </title>
<meta name ='viewport' content = 'initial-scale=1, maximum-scale=1, user-sclable=no' />

<!-- Load Leaflet from CDN -->

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
<script src= "https://unpkg.com/leaflet@1.0.3/dist/leaflet-src.js"> </script>

<!-- Load Ersi Leaflet from CDN -->
<script src= "https://unpkg.com/ersi-leaflet@2.0.8"></script>

<!-- Load Ersi Leaflet Geocoder from CDN -->
<link rel="stylesheet"href="https://unpkg.com/ersi-leaflet-geocoder@2.2.4/dist/ersi-leaflet-geocoder.css">
<script src="https://unpkg.com/ersi-leaflet-geocoder@2.2.4"></script>


<!-- Used for Mapping our own data
<script src="jquery-2.1.2.min.js"></script> -->

<style>
    body {margin:0; padding:0; }
    #map {position:absolute; top:0; bottom:0; right:0; left:0; }
/* #mapid { height: 180px; } */
</style>

</head>

<body>

<div id="map"></div>

<!-- // initalizing Map-->
    

<script>

    var mymap = L.map('map').setView([42.2780, -83.7382],13);

L.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(mymap);


// Show Markers by location // 
for (var i=0; i < markers.length; ++i){
    L.marker( [markers[i].lat, markers[i].lng] )
        .bindPopup( '<a href="' + markers[i].url + '" target =" _blank">' + markers[i].name + '</a')
        .addTo(mymap); 
}

// Leaflet on Mobile - Geolocation // 

function onLocationfound(e){
    var radius = e.accuracy/2;

    L.marker(e.latling).addTo(map).bindPop("Current Location").openPopup();
    L.circle(e.latlng).addTo(map);

}

map.on('locationfound', onLocationfound);

// // Error Message if Geolocation Failed //

    function onLocationError(e){
        alert(e.message);
    }

    map.on('locationerror',onLocationError);  

// JSON Parse //

var geo_json = 'put your geojson here';

var geodata = JSON.parse(geo_json);

var geolayer = L.geoJson(geodata);

// add the points to map 
geolayer.addTo(map); 

</script>

</body>

</html>


<!-- // //  Shows User's Position  //

// var x = document.getElementById("demo");
// function getLocation() {

//     if (navigator.geolocation) {

// navigator.geolocation.getCurrentPosition(showPosition);
//     } else {
//         x.innerHTML = "Geolocation is not supported by this browser.";
//     }
// }

// function showPosition(positon) {
//     x.innerHTML = "Latitude: " + position.coords.latitude + "<br>Longitude: " + position.coords.longitude;
// } -->




<!-- // Markers for Location // 

// Testing // 
// markers = [
//     { "name": "Shapiro Library",
//     "url":"https://www.lib.umich.edu/shapiro-undergraduate-library",
//     "lat":42.2755, 
//     "lng": -83.7372
//      }
// ]

// Styling for Icon //

// var myIcon = L.icon({
//     iconUrl: myURL + 'https://cdn1.iconfinder.com/data/icons/cloud-14/32/pin_custom_location_locate_google-512.png',
//     iconRetinaUrl: myURL + 'https://cdn1.iconfinder.com/data/icons/cloud-14/32/pin_custom_location_locate_google-512.png',
//     iconSize: [29,24],
//     iconAnchor: [9,21],
//     popupAnchor: [0,-14]
// });  -->
